var n=document.querySelector(".container"),t=[["","","",""],["","","",""],["","","",""],["","","",""]],r=!1,e=!1,a=!1,c=!1,o=0,l=0;function s(){var l='\n    <div class="game-header">\n      <h1>2048</h1>\n      <div class="controls">\n        <p class="info">\n          Score: <span class="game-score">'.concat(o,'</span>\n        </p>\n        <button\n          class="button ').concat(r?"restart":"start",'"\n        ><span>').concat(r?"Restart":"Start","</span></button>\n      </div>\n    </div>\n  "),u='\n    <table class="game-field">\n      <tbody>\n        <tr class="field-row">\n        '.concat(t[0].map(function(n){return'<td class="field-cell field-cell--'.concat(n,'">').concat(n,"</td>")}).join(""),'\n        </tr>\n\n        <tr class="field-row">\n          ').concat(t[1].map(function(n){return'<td class="field-cell field-cell--'.concat(n,'">').concat(n,"</td>")}).join(""),'\n        </tr>\n\n        <tr class="field-row">\n          ').concat(t[2].map(function(n){return'<td class="field-cell field-cell--'.concat(n,'">').concat(n,"</td>")}).join(""),'\n        </tr>\n\n        <tr class="field-row">\n          ').concat(t[3].map(function(n){return'<td class="field-cell field-cell--'.concat(n,'">').concat(n,"</td>")}).join(""),"\n        </tr>\n      </tbody>\n    </table>\n  "),d='\n    <div class="message-container">\n      <p class="message message-lose '.concat(a?c?"hidden":"":"hidden",'">You lose! Restart the game?</p>\n      <p class="message message-win ').concat(a&&c?"":"hidden",'">Winner! Congrats! You did it!</p>\n      <p class="message message-start" ').concat(e?"hidden":"",'>\n        Press "Start" to begin game. Good luck!\n      </p>\n    </div>\n  ');n.innerHTML="".concat(l).concat(u).concat(d),n.querySelector(".button").addEventListener("click",function n(){if(r){i(),o=0,r=!1,a=!1,c=!1,n();return}e&&i(),e=!0,o=0,f(),f(),s()})}function i(){t=[["","","",""],["","","",""],["","","",""],["","","",""]]}function f(){for(var n=[],r=0;r<t.length;r++)for(var e=0;e<t[0].length;e++)""===t[r][e]&&n.push({x:r,y:e});if(0===n.length){a=!0;return}var c=Math.floor(Math.random()*n.length);t[n[c].x][n[c].y]=Math.floor(11*Math.random())>9?4:2}function u(){r=!0;for(var n=m(),t=0;t<n.length;t++){for(var e=[],a=0;a<n.length;a++)e.push(n[a][t]);e=g(e);for(var c=0;c<n.length;c++)n[c][t]="";for(var o=0;o<e.length;o++)n[o][t]=e[o]}return n}function d(){r=!0;for(var n=m(),t=0;t<n.length;t++){for(var e=[],a=0;a<n.length;a++)e.push(n[a][t]);e=g(e).reverse();for(var c=0;c<n.length;c++)n[c][t]="";for(var o=n.length-1,l=0;l<e.length;l++,o--)n[o][t]=e[l]}return n}function h(){r=!0;for(var n=m(),t=0;t<n.length;t++)!function(t){var r=g(n[t]);n[t].forEach(function(n,t,r){return r[t]=""});for(var e=0;e<r.length;e++)n[t][e]=r[e]}(t);return n}function v(){r=!0;for(var n=m(),t=0;t<n.length;t++)!function(t){var r=g(n[t]).reverse();n[t].forEach(function(n,t,r){return r[t]=""});for(var e=0,a=n.length-1;e<r.length;e++,a--)n[t][a]=r[e]}(t);return n}function g(n){for(var t=n.filter(function(n){return""!==n}),r=1;r<t.length;r++)t[r]===t[r-1]&&(t[r-1]=t[r]+t[r],l+=t[r-1],o>=2048&&(a=!0,c=!0),t[r]="");return t.filter(function(n){return""!==n})}function m(){for(var n=[["","","",""],["","","",""],["","","",""],["","","",""]],r=0;r<t.length;r++)for(var e=0;e<t[r].length;e++)n[r][e]=t[r][e];return n}function p(n){for(var r=0;r<t.length;r++)for(var e=0;e<t[r].length;e++)if(t[r][e]!==n[r][e])return!0;return!1}function b(){var n=p(h()),t=p(v()),r=p(u()),e=p(d());n||t||r||e||(a=!0,c=!1)}s(),document.addEventListener("keydown",function(n){if(!a&&e)switch(n.key){case"ArrowUp":l=0;var r=u();p(r)?(t=r,o+=l,f()):b(),s();break;case"ArrowDown":l=0;var c=d();p(c)?(t=c,o+=l,f()):b(),s();break;case"ArrowLeft":l=0;var i=h();p(i)?(t=i,o+=l,f()):b(),s();break;case"ArrowRight":l=0;var g=v();p(g)?(t=g,o+=l,f()):b(),s()}});
//# sourceMappingURL=index.f56c9b9a.js.map
